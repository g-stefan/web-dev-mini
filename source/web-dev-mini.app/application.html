<!DOCTYPE html>
<html lang="en" class="xui -browser">
<head>
<meta charset="UTF-8">
<title>Web Dev Mini</title>
<!-- 
// Web Dev Mini
// Copyright (c) 2020-2024 Grigore Stefan <g_stefan@yahoo.com>
// MIT License (MIT) <http://opensource.org/licenses/MIT>
// SPDX-FileCopyrightText: 2020-2024 Grigore Stefan <g_stefan@yahoo.com>
// SPDX-License-Identifier: MIT

-->
<link rel="stylesheet" href="lib/normalize.min.css">
<link rel="stylesheet" href="lib/roboto-regular/roboto-regular.css">
<link rel="stylesheet" href="lib/material-icons/material-icons.css">
<link rel="stylesheet" href="lib/overlayscrollbars.min.css">
<link rel="stylesheet" href="lib/xui.complete.min.css">
<link rel="stylesheet" href="lib/xui-animated-dna.min.css">
<!-- Application loader -->
<style>

.loader {
	position: relative;	
	width: 128px;
	height: 64px;
	background-color: #FFF;
}

.separator{
	position: relative;
	height: 2px;
	overflow: hidden;
	clear: both;
}

.line{
	position: relative;
	height: 2px;
	border-radius: 2px;
	width: 100%;
	background-color: #E0EFF9;
}

.line-sub{
	position: relative;
	height: 2px;
	border-radius: 2px;
	width: 0%;
	background-color: #0194FE;
}

#error{
	position: relative;
	width: 100%;
	text-transform: lowercase;
	color: #CC0000;
	text-align: center;
	font-family: sans-serif;
	font-size: 14px;
	font-weight: bold;
}

</style>
<script>

function setProcent(procent){	
	var el=document.getElementById("loading-procent");
	if(el){
		el.style.width=procent+"%";
	};
};

function setError(error){	
	var el=document.getElementById("error");
	if(el){
		el.innerHTML=error;
		el=document.getElementById("loading-procent");
		if(el){
			el.style.backgroundColor="#CC0000";
		};
	};
};

setProcent(0);

ipcRenderer.send("start-application");

ipcRenderer.on("set-procent", (event,procent) => {
	setProcent(procent);
});

ipcRenderer.on("set-error", (event,error) => {
	setError(error);
});

ipcRenderer.on("connect-application", (event,url) => {	
	document.location.assign(url);
});

</script>
</head>
<body class="xui">
<div class="xui center-xy" style="height:100%;width:100%;">

<!-- loader  -->
<div class="loader">
<!-- animated dna  -->
<div class="xui animated -dna">
	<div class="xui _strand">
		<div class="xui _atom-1"></div>
		<div class="xui _link"></div>
		<div class="xui _atom-2"></div>
	</div>
	<div class="xui _strand">
		<div class="xui _atom-1"></div>
		<div class="xui _link"></div>
		<div class="xui _atom-2"></div>
	</div>
	<div class="xui _strand">
		<div class="xui _atom-1"></div>
		<div class="xui _link"></div>
		<div class="xui _atom-2"></div>
	</div>
	<div class="xui _strand">
		<div class="xui _atom-1"></div>
		<div class="xui _link"></div>
		<div class="xui _atom-2"></div>
	</div>
	<div class="xui _strand">
		<div class="xui _atom-1"></div>
		<div class="xui _link"></div>
		<div class="xui _atom-2"></div>
	</div>
	<div class="xui _strand">
		<div class="xui _atom-1"></div>
		<div class="xui _link"></div>
		<div class="xui _atom-2"></div>
	</div>
	<div class="xui _strand">
		<div class="xui _atom-1"></div>
		<div class="xui _link"></div>
		<div class="xui _atom-2"></div>
	</div>
	<div class="xui _strand">
		<div class="xui _atom-1"></div>
		<div class="xui _link"></div>
		<div class="xui _atom-2"></div>
	</div>
</div>
<!-- /animated dna  -->
<div class="separator"></div>
<div class="line">
	<div id="loading-procent" class="line-sub"></div>
</div>
<div id="error"></div>
</div>
<!-- /loader  -->

</div>
<script src="lib/jquery-3.6.3.min.js"></script>
<script src="lib/jquery.overlayscrollbars.min.js"></script>
<script src="lib/xui.complete.min.js"></script>
</body>
</html>
